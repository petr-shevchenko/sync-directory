<Window x:Class="SyncDirectory.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:btnStyles="clr-namespace:ButtonStyle"
        WindowStartupLocation="CenterScreen"
        Icon="Style/Icon/Synchronize.ico"
        Style="{StaticResource VS2012WindowStyle}"
        Title="SyncDir" Height="800" Width="1200" Closing="Window_Closing" FontSize="14">

    <Window.Resources>
        <Style x:Key="GridCellStyle" TargetType="{x:Type TextBlock}" >
            <Setter Property="TextWrapping" Value="Wrap"/>           
        </Style>
    </Window.Resources>
    
    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="30"/>
            <RowDefinition Height="45"/>
            <RowDefinition Height="2*"/>
            <RowDefinition Height="55"/>
            <RowDefinition x:Name="RowForLogExpander" Height="35" />
        </Grid.RowDefinitions>

        <GridSplitter Grid.Row="3" Height="3"  HorizontalAlignment="Stretch" Background="Gray" Margin="0,52,0,0"/>

        <StackPanel Orientation="Horizontal" Grid.Row="1" Margin="10,0,10,0" >
            <TextBlock Text="Синхронизировать: " VerticalAlignment="Center" Foreground="AliceBlue" FontWeight="DemiBold" />
            <Button x:Name="BtnSinchSelected" Tag="2" Click="Synchronization" Content="Выбранные"  Margin="10,5,10,5" Width="125"
                        Style="{StaticResource ButtonWithImage}"
                        HorizontalContentAlignment="Right" Padding="0,0,10,0"
                        btnStyles:ImageContentPresenter.Image="Style\Icon\Play.png"  
                        btnStyles:ImageContentPresenter.ImageMargin="5,3,5,3" />
            <Button x:Name="BtnSinchAll" Tag="3" Click="Synchronization" Content="Все" Margin="10,5,10,5" Width="75"
                        Style="{StaticResource ButtonWithImage}"
                        HorizontalContentAlignment="Right" Padding="0,0,10,0"
                        btnStyles:ImageContentPresenter.Image="Style\Icon\PlayAll.png"  
                        btnStyles:ImageContentPresenter.ImageMargin="5,3,5,3" />
            <TextBlock Text="Прервать: " VerticalAlignment="Center" Margin="30,5,5,5" Foreground="AliceBlue" FontWeight="DemiBold"/>
            <Button x:Name="BtnInterruptSelected" Tag="2" Click="Interruption" Content="Выбранные"  Margin="10,5,10,5" Width="125"
                        Style="{StaticResource ButtonWithImage}"
                        HorizontalContentAlignment="Right" Padding="0,0,10,0"
                        btnStyles:ImageContentPresenter.Image="Style\Icon\Stop.png"  
                        btnStyles:ImageContentPresenter.ImageMargin="5,3,5,3" />
            <Button x:Name="BtnInterruptAll" Tag="3" Click="Interruption" Content="Все" Margin="10,5,10,5" Width="75"
                        Style="{StaticResource ButtonWithImage}"
                        HorizontalContentAlignment="Right" Padding="0,0,10,0"
                        btnStyles:ImageContentPresenter.Image="Style\Icon\StopAll.png"  
                        btnStyles:ImageContentPresenter.ImageMargin="5,3,5,3" />
        </StackPanel>

        <Menu Grid.Row="0" VerticalContentAlignment="Center" VerticalAlignment="Stretch" FontSize="16" FontWeight="Bold">
            <MenuItem Header="Файл" Height="30">
                <MenuItem x:Name="MiLoadSyncList" Header="Загрузить список"  Height="30" Click="miLoadSyncList_Click"/>
                <MenuItem x:Name="MiSaveSyncList" Header="Сохранить список"  Height="30" Click="miSaveSyncList_Click"/>
                <MenuItem x:Name="MiSaveSyncListAs" Header="Сохранить список как.."  Height="30" Click="miSaveSyncListAs_Click"/>
                <MenuItem x:Name="MiAddDir" Header="Добавить директорию в список..."  Height="30" Click="miAddDir_Click"/>
                <MenuItem x:Name="MiDelDir" Header="Удалить выбранную директорию из списка..."  Height="30" Click="miDelDir_Click"/>

            </MenuItem>
            <MenuItem x:Name="MiExit" Header="Выход" Click="MiExit_OnClick" />
        </Menu>


        <DataGrid Grid.Row="2" x:Name="DgDirList" 
                  HorizontalAlignment="Stretch" VerticalAlignment="Stretch" Width="Auto" Margin="2,2,2,2"
                  CanUserAddRows="False" CanUserDeleteRows="False" 
                  AutoGenerateColumns="False" CanUserReorderColumns="True" CanUserResizeColumns="True"
                  FontSize="16" TextBlock.TextAlignment="Left"
                  SelectionMode="Extended" MouseDoubleClick="Synchronization">
            <DataGrid.Columns>
                <DataGridTextColumn Header="Откуда" Width="250" Binding="{Binding Path=SourceDirectory }" ElementStyle="{StaticResource GridCellStyle}"/>
                <DataGridTextColumn Header="Куда" Width="250" Binding="{Binding Path=DestinationDirectory }" ElementStyle="{StaticResource GridCellStyle}" />
                <DataGridTextColumn Header="Состояние" Width="*" Binding="{Binding Path=Status }" IsReadOnly="True" ElementStyle="{StaticResource GridCellStyle}"/>
            </DataGrid.Columns>
        </DataGrid>

        
            <StackPanel Grid.Row="3" Orientation="Horizontal" Height="50" >
                <Button x:Name="BtnAddDir" Click="miAddDir_Click" Content="Добавить директорию"  Margin="10,5,10,5" Width="207"
                        Style="{StaticResource ButtonWithImage}"
                        HorizontalContentAlignment="Right" Padding="0,0,10,0"
                        btnStyles:ImageContentPresenter.Image="Style\Icon\Add.png"  
                        btnStyles:ImageContentPresenter.ImageMargin="10,2,5,2" />
                <Button x:Name="BtnDelDir" Click="miDelDir_Click" Content="Удалить выбранные директории"  Margin="10,5,10,5" Width="272"
                        Style="{StaticResource ButtonWithImage}"
                        HorizontalContentAlignment="Right" Padding="0,0,10,0"
                        btnStyles:ImageContentPresenter.Image="Style\Icon\Remove.png"  
                        btnStyles:ImageContentPresenter.ImageMargin="10,2,5,2" />
            </StackPanel>
      


        <Expander x:Name="LogExpander" Header=" Журнал операций" Grid.Row="4" VerticalAlignment="Stretch" Collapsed="exp_Collapsed" Expanded="exp_Expanded">
            <DataGrid x:Name="DgLog" 
                  HorizontalAlignment="Stretch" VerticalAlignment="Stretch" Width="Auto" Margin="10,10,10,10"
                  CanUserAddRows="False" CanUserDeleteRows="False" 
                  AutoGenerateColumns="False" CanUserReorderColumns="True" CanUserResizeColumns="True"
                  FontSize="14" TextBlock.TextAlignment="Left"
                  SelectionMode="Extended" MouseDoubleClick="Synchronization">
            <DataGrid.Columns>
                <DataGridTextColumn Header="Время" Width="200" Binding="{Binding Path=Time, ConverterParameter='yyyy' }" IsReadOnly="True"/>
                    <DataGridTextColumn Header="Источник" Width="200" Binding="{Binding Path=Source }" IsReadOnly="True" ElementStyle="{StaticResource GridCellStyle}"/>
                    <DataGridTextColumn Header="Сообщение" Width="*" Binding="{Binding Path=Message }" IsReadOnly="True" ElementStyle="{StaticResource GridCellStyle}"/>
            </DataGrid.Columns>
        </DataGrid>
        </Expander>
    </Grid>
</Window>
